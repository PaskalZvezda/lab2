name: Multi-OS Build

# Сборка запускается на каждый push (коммит) в любую ветку
on: [push]

jobs:
  build:
    # Матрица стратегий позволяет запустить один и тот же код на разных ОС
    strategy:
      matrix:
        os: [ubuntu-latest, windows-latest]

    runs-on: ${{ matrix.os }}

    steps:
      # 1. Копируем код репозитория на виртуальную машину
      - name: Checkout code
        uses: actions/checkout@v4

      # 2. Настраиваем компилятор (для Windows по умолчанию MSVC, для Linux - GCC)
      # Если вы используете CMake, шаги ниже будут универсальными
      
      - name: Configure CMake
        run: cmake -S . -B build

      - name: Build Project
        run: cmake --build build --config Release
